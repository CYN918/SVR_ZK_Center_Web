(function(t){function e(e){for(var n,s,o=e[0],r=e[1],c=e[2],p=0,d=[];p<o.length;p++)s=o[p],l[s]&&d.push(l[s][0]),l[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var r=a[o];0!==l[r]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},l={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"10c2":function(t,e,a){},"10ee":function(t,e,a){},1575:function(t,e,a){"use strict";var n=a("2d24"),l=a.n(n);l.a},"19af":function(t,e,a){"use strict";var n=a("a9a1"),l=a.n(n);l.a},"26a8":function(t,e,a){"use strict";var n=a("e68b"),l=a.n(n);l.a},"2d24":function(t,e,a){},"2e22":function(t,e,a){"use strict";var n=a("fb25"),l=a.n(n);l.a},"32f2":function(t,e,a){"use strict";var n=a("6628"),l=a.n(n);l.a},3591:function(t,e,a){"use strict";var n=a("9248"),l=a.n(n);l.a},"3e70":function(t,e,a){},"3f8a":function(t,e,a){},"4c09":function(t,e,a){"use strict";var n=a("10ee"),l=a.n(n);l.a},"56d7":function(t,e,a){"use strict";a.r(e);a("0fae");var n=a("9e2f"),l=a.n(n),i=(a("cadf"),a("551c"),a("097d"),a("a026")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=(a("5c0b"),a("2877")),c={},u=Object(r["a"])(c,s,o,!1,null,null,null);u.options.__file="App.vue";var p=u.exports,d=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("topNav"),a("router-view")],1)},m=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topNav"},[t._m(0),a("div",{staticClass:"sszj"},[a("span",{staticClass:"ssicon iconfont"},[t._v("")]),a("el-input",{staticClass:"sskzd",attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),a("el-dropdown",{staticClass:"user-ci",attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link iconfont"},[t._v("\n\t   \n\t  ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{on:{click:function(e){t.loginout()}}},[t._v("退出")])])],1)],1),a("ul",{staticClass:"navd"},[a("router-link",{attrs:{to:"/index"}},[a("li",[t._v("首页")])]),a("router-link",{attrs:{to:"/xq"}},[a("li",[t._v("管理")])]),a("router-link",{attrs:{to:"/datas"}},[a("li",[t._v("数据")])]),a("router-link",{attrs:{to:"/user"}},[a("li",[t._v("个人中心")])]),t._m(1)],1),a("el-menu",{staticClass:"el-menu-demo appTopNav",attrs:{mode:"horizontal"},on:{select:t.handleSelect}},[a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[t._v(t._s(t.topNacd))]),a("el-menu-item",{attrs:{index:"/index"}},[t._v("首页")]),a("el-menu-item",{attrs:{index:"/xq/xqlist"}},[t._v("管理")]),a("el-menu-item",{attrs:{index:"2"}},[t._v("数据")]),a("el-menu-item",{attrs:{index:"/user/xqlist"}},[t._v("个人中心")]),a("el-menu-item",{attrs:{index:"4"},on:{click:t.loginout}},[t._v("退出")])],2)],1)],1)},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log"},[a("img",{attrs:{src:"/img/log.jpg"}}),t._v("\n\t\t掌酷综合平台\n\t")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",[a("li",{staticClass:"iconfont"},[t._v("")])])}],_=(a("7f7f"),{name:"app",data:function(){return{input:"",topNacd:"首页",todata:[{name:"首页",url:1},{name:"管理",url:1},{name:"数据",url:1},{name:"个人中心",url:1}]}},methods:{handleSelect:function(t,e){this.topNacd=this.todata[t].name},loginout:function(){this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/logout"}).then(function(t){0==t.data.code&&(localStorage.setItem("token",""),window.location.href="http://account.zookingsoft.com/login?from=center_local")}).catch(function(t){})}}}),b=_,g=(a("5bab"),Object(r["a"])(b,h,v,!1,null,null,null));g.options.__file="topNav.vue";var x=g.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["leftNavBox",t.apptyped]},[a("div",{staticClass:"navbtn iconfont",on:{click:t.checkNav}},[t._v("")]),a("div",{staticClass:"leftNavBg"}),a("div",{staticClass:"leftNav"},[a("div",{staticClass:"let_title"},[t._v(t._s(t.navData.title))]),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.fullPath,router:!0}},t._l(t.navData.list,function(e,n){return a("el-submenu",{attrs:{index:e.url}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.title))])]),a("el-menu-item-group",t._l(e.list,function(e,n){return a("el-menu-item",{attrs:{index:e.url}},[t._v(t._s(e.title))])}),1)],2)}),1)],1)])},k=[],w={name:"app",props:["navData"],data:function(){return{apptyped:""}},methods:{checkNav:function(t){console.log(t),this.apptyped=""==this.apptyped?"oncheac":""}}},C=w,D=(a("1575"),Object(r["a"])(C,y,k,!1,null,null,null));D.options.__file="leftNav.vue";var T=D.exports,S={name:"app",data:function(){return{}},methods:{},components:{topNav:x,leftNav:T}},z=S,j=(a("d44d"),Object(r["a"])(z,f,m,!1,null,null,null));j.options.__file="index.vue";var $=j.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("leftNav",{attrs:{navData:t.letNav}}),a("router-view")],1)},N=[],L={data:function(){return{letNav:{title:"管理",list:[{title:"需求管理",url:"1",list:[{title:"需求列表",url:"/xq/xqlist"}]},{title:"素材管理",url:"2",list:[{title:"素材成品管理",url:"/xq/sclist"},{title:"素材中间件管理",url:"2-2"}]},{title:"投放管理",url:"3"},{title:"权限管理",url:"5"}]}}},components:{leftNav:T}},B=L,O=(a("4c09"),Object(r["a"])(B,q,N,!1,null,null,null));O.options.__file="index.vue";var P=O.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"sler"},[t._l(t.zsx,function(e,n){return a("div",[a("span",[t._v(t._s(e.title))]),[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.bind,callback:function(a){t.$set(e,"bind",a)},expression:"el.bind"}},t._l(e.list,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}),1)]],2)}),a("el-button",{staticClass:"sxbtnd",attrs:{round:""},on:{click:function(e){t.selelist()}}},[t._v("筛选")])],2),t._m(0),a("div",{staticClass:"tbale"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"需求ID"}}),a("el-table-column",{attrs:{prop:"extend_type",label:"素材类型",filters:[{text:"静态图片",value:"needs_picture"},{text:"动态图片",value:"needs_script_picture"},{text:"模版",value:"needs_resource"},{text:"H5模版",value:"needs_h5_resource"},{text:"锁屏壁纸",value:"needs_wallpaper"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkNr")(e.row.extend_type))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"extend.description",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"num",sortable:"",label:"当前需求数"}}),a("el-table-column",{attrs:{prop:"total",sortable:"",label:"历史需求数"}}),a("el-table-column",{attrs:{prop:"end_at",sortable:"",label:"截止时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkTime")(e.row.end_at))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkTime")(e.row.created_at))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",filters:[{text:"不通过",value:"1"},{text:"上线中",value:"2"},{text:"已下线",value:"3"}],"filter-method":t.filterSsta,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status>1?a("el-popover",{attrs:{placement:"bottom",width:"120"}},[a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.setStatus(e.$index,"2")}}},[t._v("上线")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.setStatus(e.$index,"3")}}},[t._v("下线")])],1),a("el-button",{staticClass:"sxxBten",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t._f("checkStatus")(e.row.status)))])],1):a("span",[t._v(t._s(t._f("checkStatus")(e.row.status)))])]}}])},[t._v("\n\t\t\t\t>\n\t\t\t  ")]),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"bjysdicon iconfont",attrs:{type:"text"},on:{click:function(a){t.getXqxq(e.row)}}},[t._v("")])]}}])})],1)],a("div",{staticClass:"tableBuee"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.addXq()}}},[t._v("新增需求")]),a("el-button",{class:["pldc",t.dcan?"":"ysd"],attrs:{round:""}},[t._v("批量导出")])],1),a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","current-page":t.page,"page-count":4,"page-sizes":[10,20,50,100],"page-size":t.currentPage,layout:"sizes, prev, pager, next",total:t.lundths},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2),a("taglod",{ref:"taglod",attrs:{cslist:t.sxtjList}})],1)])},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"tjboxd"},[a("li",[a("div",[a("div",[t._v("有效需求数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("待收素材数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("审核通过素材数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("审核未通过素材数（个）")])]),a("div",[t._v("38")])])])}],A=(a("b54a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogVisible,expression:"dialogVisible"}],staticClass:"tcBOx"},[a("div",{staticClass:"tcBoxbg",on:{click:function(e){t.clocs()}}}),a("div",{staticClass:"tcboxff"},[a("div",{staticClass:"tcboxff2"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("div",{staticClass:"innerfor"},[a("el-form-item",{attrs:{label:"需求标题"}},[a("el-input",{attrs:{disabled:1==t.clicType},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"素材类型"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择素材类型"},model:{value:t.form.extend_type,callback:function(e){t.$set(t.form,"extend_type",e)},expression:"form.extend_type"}},[a("el-option",{attrs:{label:"静态图片",value:"needs_picture"}}),a("el-option",{attrs:{label:"动态图片",value:"needs_script_picture"}}),a("el-option",{attrs:{label:"模板",value:"needs_resource"}}),a("el-option",{attrs:{label:"H5模板",value:"needs_h5_resource"}}),a("el-option",{attrs:{label:"锁屏壁纸",value:"needs_wallpaper"}})],1)],1),a("el-form-item",{attrs:{label:"投放位置"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}},t._l(t.cslist.platform_position,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.adType,expression:"adType"}],attrs:{label:"投放类型"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.cslist.platform_ad_type,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)],1)],1),a("el-form-item",{staticClass:"sixwz wztopdw",attrs:{label:"投放位置说明"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:1==t.clicType,action:"http://ts-i.idatachain.cn/api/upload/file","show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-error":t.errd}},[t.form.position_desc?a("img",{staticClass:"avatar",attrs:{src:t.form.position_desc}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{staticClass:"sixwz wztopdw",attrs:{label:"投放内容描述"}},[a("el-input",{attrs:{disabled:1==t.clicType,type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("el-form-item",{staticClass:"sixwz",attrs:{label:"投放链接"}},[a("el-input",{attrs:{disabled:1==t.clicType},model:{value:t.form.link,callback:function(e){t.$set(t.form,"link",e)},expression:"form.link"}})],1),a("el-form-item",{staticClass:"sixwz",attrs:{label:"设计要求"}},[a("el-input",{attrs:{disabled:1==t.clicType,type:"textarea"},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1),a("div",{staticClass:"innerfor"},[a("el-form-item",{attrs:{label:"素材尺寸"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择"},model:{value:t.form.size,callback:function(e){t.$set(t.form,"size",e)},expression:"form.size"}},t._l(t.cslist.material_size,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{attrs:{label:"需求数量"}},[a("el-input",{model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1),a("el-form-item",{staticClass:"sixwz2",attrs:{label:"投稿截止时间"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:t.form.end_at,callback:function(e){t.$set(t.form,"end_at",e)},expression:"form.end_at"}})],1)],1),a("el-form-item",{staticClass:"bdbtnd"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.pushData()}}},[t._v("提交")]),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.clocs()}}},[t._v("取消")])],1)],1)],1)])])}),F=[],H={props:["cslist"],data:function(){return{dialogVisible:!1,form:{title:"",extend_type:"",size:"",position:"",position_desc:"",end_at:new Date,num:"",description:"",note:"",link:"",ad_type:""},imageUrl:"",value8:"",value1:"",clicType:0,adType:0}},methods:{setData:function(t){this.form=t,this.clicType=1,this.open()},clocs:function(){this.dialogVisible=!1,this.clicType=0,this.form={title:"",extend_type:"",size:"",position:"",position_desc:"",end_at:new Date,num:"",description:"",note:"",link:"",ad_type:""}},open:function(){this.dialogVisible=!0},pushData:function(){0==this.clicType?this.addData():this.upDate()},addData:function(){var t=this.form;this.api.need_create(t)},upDate:function(){var t={id:this.form.id,end_at:this.form.end_at,num:+this.form.num};this.api.need_update(t)},errd:function(){this.form.position_desc="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"},handleAvatarSuccess:function(t,e){this.form.position_desc=URL.createObjectURL(e.raw),this.form.position_desc=t.data.url},beforeAvatarUpload:function(t){}},watch:{"form.extend_type":function(t,e){"needs_resource"==t||"needs_h5_resource"==t?this.adType=!0:(this.adType=!1,this.form.ad_type="")}}},M=H,V=(a("ad63"),Object(r["a"])(M,A,F,!1,null,null,null));V.options.__file="taglod.vue";var U=V.exports,J={components:{taglod:U},data:function(){return{sxtjList:{},dcan:!1,zsx:"",sxtj:{need_type:"",status:"",position:"",size:""},onpage:1,page:1,currentPage:10,value8:"",valuex:[],lundths:0,tableData:[],updataType:0,setStatusType:0,multipleSelection:[]}},filters:{checkNr:function(t){if(t){var e="";switch(t){case"needs_picture":e="静态图片";break;case"needs_script_picture":e="动态图片";break;case"needs_resource":e="模板";break;case"needs_h5_resource":e="H5模板";break;case"needs_wallpaper":e="锁屏壁纸";break;default:break}return e}},checkTime:function(t){if(t)return t.substring(0,10)},checkStatus:function(t){if(t)return 2==t?"上线中":3==t?"已下线":1==t?"不通过":""}},mounted:function(){this.getSxList(),this.getListData()},methods:{handleSelectionChange:function(t){this.multipleSelection=t},clocs:function(){this.$refs.taglod.clocs()},addXq:function(){this.$refs.taglod.open()},getSxList:function(){var t=this;this.api.sysconfig_material().then(function(e){t.sxtjList=e;for(var a=e.platform_position,n=e.material_size,l=[{label:"全部",value:""}],i=0,s=a.length;i<s;i++)l.push({label:a[i],value:a[i]});for(var o=[{label:"全部",value:""}],r=0,c=n.length;r<c;r++)o.push({label:n[r],value:n[r]});t.zsx=[{title:"素材类型",bind:"",value:"need_type",list:[{label:"全部",value:""},{label:"静态图片",value:"needs_picture"},{label:"动态图片",value:"needs_script_picture"},{label:"模板",value:"needs_resource"},{label:"H5模板",value:"needs_h5_resource"},{label:"锁屏壁纸",value:"needs_wallpaper"}]},{title:"投放位置",value:"position",bind:"",list:l},{title:"素材尺寸",value:"size",bind:"",list:o},{title:"需求状态",value:"status",bind:"",list:[{label:"全部",value:""},{label:"上线中",value:"2"},{label:"已下线",value:"3"},{label:"不通过",value:"1"}]}]})},getListData:function(){for(var t=this,e={p:this.currentPage,page:this.page},a=0,n=this.zsx.length;a<n;a++)this.zsx[a].bind&&(e[this.zsx[a].value]=this.zsx[a].bind);console.log(e),this.api.need_list({params:e}).then(function(e){t.lundths=e.total,t.tableData=e.data})},selelist:function(){this.getListData()},setStatus:function(t,e){var a=this;if(1!=this.setStatusType&&(this.setStatusType=1,this.tableData[t].status!=e)){var n={id:this.tableData[t].id,base_status:e};this.api.need_check({params:n}).then(function(n){a.tableData[t].status=e,a.setStatusType=0}).catch(function(t){a.setStatusType=0})}},getXqxq:function(t){var e=this;if(1!=this.updataType&&(this.updataType=1,"上线中"!=t.status)){var a={id:t.id};this.api.need_get({params:a}).then(function(t){e.updataType=0;var a=t;e.$refs.taglod.setData({title:a.title,extend_type:a.extend_type,size:a.size,position:a.position,position_desc:a.position_desc,end_at:a.end_at,num:a.num,description:a.extend.description,note:a.extend.note,link:a.extend.link,status:a.status,id:a.id})}).catch(function(t){e.updataType=0})}},filterTag:function(t,e){return e.extend_type===t},filterSsta:function(t,e){return e.status===t},handleSizeChange:function(t){this.currentPage=t,this.getListData()},handleCurrentChange:function(t){this.page=t,this.onpage=t,this.getListData()}},watch:{multipleSelection:function(t,e){console.log(t),0==t.length?this.dcan=!1:this.dcan=!0,console.log(this.dcan)}}},X=J,R=(a("b8e1"),Object(r["a"])(X,E,I,!1,null,null,null));R.options.__file="xqList.vue";var W=R.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"centNavBox"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName2,callback:function(e){t.activeName2=e},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"广告图成品管理",name:"1"}}),a("el-tab-pane",{attrs:{label:"模板成品管理",name:"2"}}),a("el-tab-pane",{attrs:{label:"锁屏壁纸成品管理",name:"3"}})],1),a("sxBox",{ref:"sxBox",on:{sxgetData:t.sxgetData}}),a("tjBox",{attrs:{tjData:t.tjData}}),a("scTable",{ref:"Table"}),a("el-button",{staticClass:"qhstBtn",attrs:{type:"primary",size:"mini",round:""},on:{click:function(e){t.qhTable()}}},[t._v("切换视图")])],1)])])},K=[],Q=a("5176"),Y=a.n(Q),Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sler"},[t._l(t.sxDatas,function(e,n){return a("div",[a("span",[t._v(t._s(e.title))]),["select"==e.type?a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.bind[e.value],callback:function(a){t.$set(t.bind,e.value,a)},expression:"bind[el.value]"}},t._l(e.list,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}),1):t._e(),"times"==e.type?a("el-date-picker",{attrs:{type:"daterange",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.bind[e.value],callback:function(a){t.$set(t.bind,e.value,a)},expression:"bind[el.value]"}}):t._e(),"text"==e.type?a("el-input",{staticClass:"sxtext",attrs:{placeholder:"请输入内容"},model:{value:t.bind[e.value],callback:function(a){t.$set(t.bind,e.value,a)},expression:"bind[el.value]"}}):t._e()]],2)}),a("el-button",{staticClass:"sxbtnd",attrs:{round:""},on:{click:function(e){t.sx()}}},[t._v("筛选")])],2)},tt=[],et={props:["sxData"],data:function(){return{sxDatas:"",bind:{}}},methods:{setData:function(t){this.sxDatas=t},sx:function(){console.log(this.bind),this.$emit("sxgetData",this.bind)}}},at=et,nt=(a("fd11"),Object(r["a"])(at,Z,tt,!1,null,null,null));nt.options.__file="sxBox.vue";var lt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"tjboxd"},t._l(t.tjDatas,function(e,n){return a("li",[a("div",[a("div",[t._v(t._s(e.name))])]),a("div",[t._v(t._s(e.num))])])}),0)},st=[],ot={props:["tjData"],data:function(){return{tjDatas:""}},mounted:function(){this.setTjData()},methods:{setTjData:function(){console.log(this.tjDatas),this.tjDatas=this.tjData}}},rt=ot,ct=(a("2e22"),Object(r["a"])(rt,it,st,!1,null,null,null));ct.options.__file="tjcom.vue";var ut=ct.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tbale"},[0==t.typeOnde?[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"素材ID"}}),a("el-table-column",{attrs:{prop:"preview_url",label:"预览图"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"xyipmg",attrs:{src:t.row.preview_url,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"material_type",label:"素材类型",filters:t.typesx,"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkNr")(e.row.material_type))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"extend.material_id",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"extend.link",label:"投放链接"}}),a("el-table-column",{attrs:{prop:"material_status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("checkStatus")(e.row.material_status)))]}}])}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"入库时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("checkTime")(e.row.created_at)))]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"bjysdicon iconfont",attrs:{type:"text"},on:{click:function(a){t.downlod(e.row.attachment.url)}}},[t._v("")])]}}])})],1)]:t._e(),1==t.typeOnde?a("ul",{staticClass:"tbalcp"},t._l(t.tableData,function(e,n){return a("li",[a("img",{attrs:{src:e.preview_url,alt:""}}),a("p",[t._v(t._s(e.id))]),a("p",[t._v(t._s(e.material_type))]),a("p",[t._v(t._s(e.material_status))]),a("p",[t._v(t._s(e.created_at))]),a("p",[t._v(t._s(e.extend.link))])])}),0):t._e(),a("div",{staticClass:"tableBuee"},[a("el-button",{class:["pldc",t.dcan?"":"ysd"],attrs:{round:""}},[t._v("批量导出")])],1),a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","current-page":t.page,"page-count":4,"page-sizes":[10,20,50,100],"page-size":t.currentPage,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2)},dt=[],ft={data:function(){return{tableData:[],typeOnde:0,dcan:!1,typesx:[{text:"静态图片",value:"m_picture"},{text:"动态图片",value:"m_script_picture"},{text:"脚本模板",value:"m_script_template"},{text:"H5模版",value:"m_h5_template"},{text:"锁屏壁纸",value:"m_wallpaper"}],total:0,currentPage:10,page:1,multipleSelection:[]}},filters:{checkNr:function(t){if(t){var e="";switch(t){case"m_picture":e="静态图片";break;case"m_script_picture":e="动态图片";break;case"m_script_template":e="脚本模板";break;case"m_h5_template":e="H5模板";break;case"m_wallpaper":e="锁屏壁纸";break;default:break}return e}},checkTime:function(t){if(t)return t.substring(0,10)},checkStatus:function(t){if(t)return"1001"==t?"未绑定":"1101"==t?"已绑定":"1201"==t?"已下线":""}},mounted:function(){},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},setData:function(t){this.tableData=t.data,this.total=t.total},downlod:function(t){window.open(t)},checkSt:function(){this.typeOnde=1==this.typeOnde?0:1},handleSizeChange:function(t){this.currentPage=t},handleCurrentChange:function(t){this.page=t},filterTag:function(t,e){return e.material_type===t},filterSsta:function(t,e){return e.material_status===t}},watch:{multipleSelection:function(t,e){0==t.length?this.dcan=!1:this.dcan=!0}}},mt=ft,ht=(a("3591"),Object(r["a"])(mt,pt,dt,!1,null,null,null));ht.options.__file="scTable.vue";var vt=ht.exports,_t={components:{sxBox:lt,tjBox:ut,scTable:vt},data:function(){return{activeName2:"1",sxData:"",onType:["m_picture","m_script_picture"],tjData:[{name:"待审核数（个）",num:38},{name:"入库数（个）",num:8},{name:"上线数（个）",num:108},{name:"下线（个）",num:32}],cumpage:10,onpage:1,tabData:"",list3:[{label:"全部",value:""},{label:"静态图片",value:"m_picture"},{label:"动态图片",value:"m_script_picture"}]}},mounted:function(){this.getSxList(),this.getData()},methods:{handleClick:function(t,e){var a=this.activeName2;1==a&&(this.onType=["m_picture","m_script_picture"],this.sxData[0].list=[{label:"全部",value:""},{label:"静态图片",value:"m_picture"},{label:"动态图片",value:"m_script_picture"}]),2==a&&(this.onType=["m_script_template","m_h5_template"],this.sxData[0].list=[{label:"全部",value:""},{label:"模板",value:"m_script_template"},{label:"H5模板",value:"m_h5_template"}]),3==a&&(this.onType=["m_wallpaper"],this.sxData[0].list=[{label:"全部",value:""},{label:"锁屏壁纸",value:"m_wallpaper"}]),this.$refs.sxBox.setData(this.sxData),this.getData()},qhTable:function(){this.$refs.Table.checkSt()},getSxList:function(){var t=this;this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/sysconfig/material"}).then(function(e){t.sxtjList=e.data.data;for(var a=e.data.data.platform_position,n=e.data.data.material_size,l=[{label:"全部",value:""}],i=0,s=a.length;i<s;i++)l.push({label:a[i],value:a[i]});for(var o=[{label:"全部",value:""}],r=0,c=n.length;r<c;r++)o.push({label:n[r],value:n[r]});t.sxData=[{title:"素材类型",type:"select",value:"need_type",list:t.list3},{title:"投放位置",type:"select",value:"position",list:l},{title:"素材尺寸",type:"select",value:"size",list:o},{title:"需求状态",type:"select",value:"status",list:[{label:"全部",value:""},{label:"未绑定",value:"1001"},{label:"已绑定",value:"1101"},{label:"已下线",value:"1201"}]},{title:"入库时间",type:"times",value:"start_date"},{title:"模糊搜索",type:"text",value:"vague"}],t.$refs.sxBox.setData(t.sxData)}).catch(function(t){})},sxgetData:function(t){var e={};if(t)for(var a in t)t[a]&&(e[a]=t[a]);e.start_date&&(e.start_date=e.start_date[0],e.end_date=e.start_date[1]),this.getData(e)},getData:function(t){var e=this,a={page:this.onpage,p:this.cumpage};this.onType.length>0&&(a.type=this.onType),t&&(a=Y()(a,t),t.need_type&&(a.type=[t.need_type])),this.api.material_lists({params:a}).then(function(t){e.$refs.Table.setData(t)})}}},bt=_t,gt=(a("32f2"),Object(r["a"])(bt,G,K,!1,null,null,null));gt.options.__file="scList.vue";var xt=gt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("leftNav",{attrs:{navData:t.letNav}}),a("router-view")],1)},kt=[],wt={data:function(){return{letNav:{title:"个人中心",default:"/user/xqList",defaultopen:["1"],list:[{title:"待审核",url:"1",list:[{title:"需求待审核",url:"/user/xqlist"},{title:"广告图待审核",url:"/user/adlist?type=picture"},{title:"广告模版待审核",url:"/user/adlist?type=resource"},{title:"锁屏壁纸待审核",url:"/user/adlist?type=wallpaper"}]},{title:"个人信息",url:"5"}]}}},components:{leftNav:T}},Ct=wt,Dt=(a("cec7"),Object(r["a"])(Ct,yt,kt,!1,null,null,null));Dt.options.__file="index.vue";var Tt=Dt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"tbale"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"需求ID"}}),a("el-table-column",{attrs:{prop:"extend_type",label:"素材类型",filters:[{text:"H5模版",value:"H5模版"},{text:"静态图片",value:"静态图片"},{text:"动态图片",value:"动态图片"},{text:"模版",value:"模版"},{text:"锁屏壁纸",value:"锁屏壁纸"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t"+t._s(e.row.extend_type)+"\n\t\t\t\t ")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"extend.description",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"num",sortable:"",label:"当前需求数"}}),a("el-table-column",{attrs:{prop:"total",sortable:"",label:"历史需求数"}}),a("el-table-column",{attrs:{prop:"end_at",sortable:"",label:"截止时间"}}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.status)+"\t\n\t\t\t\t\t")]}}])},[t._v("\n\t\t\t\t>\n\t\t\t\t")]),a("el-table-column",{attrs:{"min-width":"160px",label:"审核"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"xqshticon",attrs:{type:"primary",size:"mini",round:""},on:{click:function(a){t.opentip(e.$index,2)}}},[t._v("通过")]),a("el-button",{staticClass:"xqshjicon",attrs:{type:"primary",size:"mini",round:""},on:{click:function(a){t.open3(e.$index,1)}}},[t._v("拒绝")]),a("el-button",{attrs:{type:"primary",size:"mini",round:""}},[t._v("转审")])]}}])})],1)],a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","page-count":4,"page-sizes":[10,20,50,100],"page-size":10,layout:"sizes, prev, pager, next",total:t.lundths},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2)])])},zt=[],jt={data:function(){return{statusType:0,sx_need_type:[{label:"静态图片",value:"needs_picture"},{label:"动态图片",value:"needs_script_picture"},{label:"模板",value:"needs_resource"},{label:"H5模板",value:"needs_h5_resource"},{label:"锁屏壁纸",value:"needs_wallpaper"}],sx_status:[{label:"上线中",value:"2"},{label:"已下线",value:"1"}],onpage:0,currentPage:10,lundths:0,tableData:[]}},mounted:function(){this.getListData()},methods:{opentip:function(t,e){var a=this;1!=this.statusType&&this.$confirm("是否确认通过","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.setStatus(t,e)}).catch(function(){})},getListData:function(){var t=this,e="http://ts-i.idatachain.cn/api/need/list_check?p="+this.currentPage+"&page="+this.onpage;this.$ajax({method:"get",timeout:1e4,url:e}).then(function(e){if(0==e.data.code){var a=e.data.data.data;t.lundths=e.data.data.total;for(var n=0,l=a.length;n<l;n++)a[n].created_at=a[n].created_at.substring(0,10),a[n].end_at=a[n].end_at.substring(0,10),a[n].extend_type="needs_h5_resource"==a[n].extend_type?"H5模版":"needs_picture"==a[n].extend_type?"静态图片":"needs_script_picture"==a[n].extend_type?"动态图片":"needs_resource"==a[n].extend_type?"模版":"needs_wallpaper"==a[n].extend_type?"锁屏壁纸":"",a[n].status=0==a[n].status?"待审核":1==a[n].status?"不通过":"";t.tableData=a}else t.$message(e.data.message)}).catch(function(t){})},open3:function(t,e){var a=this;"不通过"!=this.tableData[t].status&&1!=this.statusType&&this.$prompt("请输入拒绝理由","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(n){n.value;a.setStatus(t,e)}).catch(function(){})},setStatus:function(t,e){var a=this;this.statusType=1,this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/check?id="+this.tableData[t].id+"&base_status="+e}).then(function(t){a.statusType=0,0==t.data.code&&location.reload(),a.$message(t.data.message)}).catch(function(t){a.statusType=0,a.$message("服务器故障")})},filterTag:function(t,e){return e.extend_type===t},handleSizeChange:function(t){this.currentPage=t,this.getListData()},handleCurrentChange:function(t){this.onpage=t-1,this.getListData()}}},$t=jt,qt=(a("26a8"),Object(r["a"])($t,St,zt,!1,null,null,null));qt.options.__file="xqList.vue";var Nt=qt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"tbale"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"material_id",label:"素材ID"}}),a("el-table-column",{attrs:{prop:"preview_url",label:"预览图"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"xyipmg",attrs:{src:t.row.preview_url,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"material_type",label:"素材类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t"+t._s(t._f("checkNr")(e.row.material_type))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"description",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"link",label:"投放链接"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t"+t._s(e.row.status)+"\t\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"入库时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("checkTime")(e.row.created_at)))]}}])}),a("el-table-column",{attrs:{"min-width":"160px",label:"审核"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"xqshticon",attrs:{type:"primary",size:"mini",round:""},on:{click:function(a){t.opentg(e)}}},[t._v("通过")]),a("el-button",{staticClass:"xqshjicon",attrs:{type:"primary",size:"mini",round:""},on:{click:function(a){t.openjj(e)}}},[t._v("拒绝")]),a("el-button",{attrs:{type:"primary",size:"mini",round:""}},[t._v("转审")])]}}])})],1)],a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","page-count":4,"page-sizes":[10,20,50,100],"page-size":t.currentPage,layout:"sizes, prev, pager, next",total:t.lundths},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2)]),a("el-dialog",{attrs:{visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules}},[t.tagDatad&&"field_edit"==t.tagDatad.row.flow_detail.type?a("div",{staticClass:"innerInputBox"},t._l(t.tagDatad.row.flow_detail.fields,function(e,n){return a("div",{staticClass:"innerInput filePs"},["text"==e.type?a("el-form-item",{attrs:{label:e.field}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form[e.name],callback:function(a){t.$set(t.form,e.name,a)},expression:"form[el.name]"}})],1):t._e(),"attachment"==e.type?a("el-form-item",{attrs:{label:"附件"}},[a("el-input",{attrs:{clearable:"",autocomplete:"off"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1):t._e(),"attachment"==e.type?a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://ts-i.idatachain.cn/api/upload/attachment",limit:1,name:"file",data:t.uerAd,"on-success":t.onsuc}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1):t._e()],1)}),0):t._e(),t.tagDatad&&"upload_file"==t.tagDatad.row.flow_detail.type?a("div",{staticClass:"innerInput filePs"},[a("el-form-item",{attrs:{label:"附件"}},[a("el-input",{attrs:{clearable:"",autocomplete:"off"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1),a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://ts-i.idatachain.cn/api/upload/attachment",limit:1,name:"file",data:t.uerAd,"on-success":t.onsuc}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1):t._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeFor}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.pushFor("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},Bt=[],Ot={data:function(){return{tagDatad:"",statusType:0,onpage:1,currentPage:10,lundths:0,adtype:"picture",tableData:[],dialogFormVisible:!1,form:{},fileList:[],uerAd:{user:""},fileName:"",rules:{name:[{required:!0,message:"请输入价格",trigger:"blur"}],filed:[{required:!0,message:"请上传附件",trigger:"blur"}]}}},mounted:function(){this.uerAd.user=localStorage.getItem("userAd"),this.getListData()},filters:{checkNr:function(t){if(t){var e="";switch(t){case"m_picture":e="静态图片";break;case"m_script_picture":e="动态图片";break;case"m_script_template":e="脚本模板";break;case"m_h5_template":e="H5模板";break;case"m_wallpaper":e="锁屏壁纸";break}return e}},checkTime:function(t){if(t)return t.substring(0,10)}},methods:{closeFor:function(){this.dialogFormVisible=!1},pushFor:function(){var t=this,e={id:this.tagDatad.row.flow_id,type:this.tagDatad.row.type,input:[]};for(var a in this.form)if(this.form[a])if("file"==a)e.attachment_id=this.form.file;else{var n={};n[a]=this.form[a],e.input.push(n)}this.api.handle_pass(e).then(function(e){t.closeFor()})},onsuc:function(t,e,a){0==t.code?(this.form.file=t.data.id,this.fileName=t.data.name,console.log(this.form)):this.$message.error(t.message)},opentg:function(t){"work"!=t.row.type?"flow"==t.row.type&&this.openTgFlow(t):this.openTgWork(t)},openTgWork:function(t){var e=this;this.$confirm("是否确认通过","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.pushTg(t.row.work_id,t.row.type)})},openTgFlow:function(t){var e=this;this.tagDatad=t,"test"==t.row.flow_detail.type?this.$confirm("是否确认通过","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.pushTg(t.row.flow_id,t.row.type)}):this.dialogFormVisible=!0},openjj:function(t){var e=this;this.$prompt("请输入拒绝理由","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var n=a.value;if(t){var l=t.row.flow_id,i=t.row.type,s=n;"work"==i&&(l=t.row.work_id),e.pushJj(l,i,s)}})},pushTg:function(t,e,a,n){var l={id:t,type:e};this.api.handle_pass(l)},pushJj:function(t,e,a){var n={id:t,type:e,msg:a};this.api.handle_reject(n)},opentip1:function(t,e){var a=this;1!=this.statusType&&this.$confirm("是否确认通过","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.setStatus(t,e)})},getListData:function(){var t=this,e={p:this.currentPage,page:this.onpage,type:this.$route.query.type};this.api.handle_lists({params:e}).then(function(e){t.tableData=e.data,t.lundths=e.total})},filterTag:function(t,e){return e.material_type===t},handleSizeChange:function(t){this.currentPage=t,this.getListData()},handleCurrentChange:function(t){this.onpage=t-1,this.getListData()}},watch:{$route:{handler:function(){this.getListData()},deep:!0}}},Pt=Ot,Et=(a("f1ac"),Object(r["a"])(Pt,Lt,Bt,!1,null,null,null));Et.options.__file="adList.vue";var It=Et.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},Ft=[],Ht={data:function(){return{}}},Mt=Ht,Vt=(a("19af"),Object(r["a"])(Mt,At,Ft,!1,null,null,null));Vt.options.__file="index.vue";var Ut=Vt.exports,Jt=a("bc3a"),Xt=a.n(Jt);i["default"].use(d["a"]);var Rt=new d["a"]({routes:[{path:"/index",name:"Index",component:$,children:[{path:"/index",component:$},{path:"/xq",component:P,children:[{path:"/xq/xqlist",component:W},{path:"/xq/sclist",component:xt}]},{path:"/user",component:Tt,children:[{path:"/user/xqlist",component:Nt},{path:"/user/adlist",component:It}]},{path:"/datas",component:Ut}]}]});Rt.beforeEach(function(t,e,a){if(localStorage.getItem("token"))return"/"==t.fullPath?void a({path:"/index"}):"/xq"==t.fullPath?void a({path:"/xq/xqlist"}):"/user"==t.fullPath?void a({path:"/user/xqlist"}):void a();t.query.ticket?Xt()({method:"post",timeout:1e4,url:"http://ts-i.idatachain.cn/api/login",data:{ticket:t.query.ticket}}).then(function(e){localStorage.setItem("token",e.data.data.token),localStorage.setItem("userAd",e.data.data.user.email),Xt.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("token"),"/"!=t.fullPath?a():a({path:"/index"})}).catch(function(t){alert("服务器故障请稍后再试")}):window.location.href="http://account.zookingsoft.com/login?from=center"});var Wt=Rt,Gt=a("cebc"),Kt={sysconfig_material:{url:"/sysconfig/material",method:"get"},need_list:{url:"/need/list",method:"get"},need_check:{url:"/need/check",method:"get",isType:{suktip:1,reload:1}},need_get:{url:"/need/get",method:"get"},need_create:{url:"/need/create_need",method:"post",isType:{suktip:1}},need_update:{url:"/need/update_need",method:"post",isType:{suktip:1,reload:1}},material_lists:{url:"/material/lists",method:"get",isType:{suktip:1}},handle_lists:{url:"/handle/lists",method:"get"},handle_pass:{url:"/handle/pass",method:"post",isType:{suktip:1}},handle_reject:{url:"/handle/reject",method:"post",isType:{suktip:1,reload:1}}},Qt=a("795b"),Yt=a.n(Qt),Zt=(a("0fb7"),a("450d"),a("f529")),te=a.n(Zt),ee=function(t){var e={};for(var a in t)e[a]=ae(t[a]);return e},ae=function(t){return t.method=t.method||"post",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});arguments.length>3&&void 0!==arguments[3]&&arguments[3];return le(t.method,t.url,e,a,t.isType)}},ne=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={withCredentials:!0,baseURL:"http://ts-i.idatachain.cn/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return t=Y()(e,t),Xt.a.create(t)},le=function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(e){var i=ne(n);return i.interceptors.response.use(function(t){var e=t.data,a=e.code,n=e.message,i=e.data;if(0==a)return l.suktip&&te()({message:"操作成功",type:"success"}),l.reload&&location.reload(),i;te()({message:n})},function(t){return te()({message:"服务器故障",type:"warning"}),Yt.a.reject(t).catch(function(t){})}),i[t](e,a,n)}},ie={generateApiMap:ee},se=ie.generateApiMap(Object(Gt["a"])({},Kt)),oe=Object(Gt["a"])({},se);i["default"].prototype.$ajax=Xt.a,i["default"].prototype.api=oe,i["default"].use(l.a),i["default"].config.productionTip=!1,Xt.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("token"),new i["default"]({router:Wt,render:function(t){return t(p)}}).$mount("#app")},"5bab":function(t,e,a){"use strict";var n=a("3f8a"),l=a.n(n);l.a},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),l=a.n(n);l.a},"5e27":function(t,e,a){},6628:function(t,e,a){},9248:function(t,e,a){},a4eb:function(t,e,a){},a9a1:function(t,e,a){},ad63:function(t,e,a){"use strict";var n=a("bad2"),l=a.n(n);l.a},b8e1:function(t,e,a){"use strict";var n=a("3e70"),l=a.n(n);l.a},bad2:function(t,e,a){},beda:function(t,e,a){},c5d4:function(t,e,a){},cec7:function(t,e,a){"use strict";var n=a("c5d4"),l=a.n(n);l.a},d44d:function(t,e,a){"use strict";var n=a("beda"),l=a.n(n);l.a},e68b:function(t,e,a){},f1ac:function(t,e,a){"use strict";var n=a("10c2"),l=a.n(n);l.a},fb25:function(t,e,a){},fd11:function(t,e,a){"use strict";var n=a("a4eb"),l=a.n(n);l.a}});