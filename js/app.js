(function(t){function e(e){for(var n,l,o=e[0],r=e[1],c=e[2],d=0,p=[];d<o.length;d++)l=o[d],s[l]&&p.push(s[l][0]),s[l]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var r=a[o];0!==s[r]&&(n=!1)}n&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},s={app:0},i=[];function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"10ee":function(t,e,a){},1575:function(t,e,a){"use strict";var n=a("2d24"),s=a.n(n);s.a},"26a8":function(t,e,a){"use strict";var n=a("e68b"),s=a.n(n);s.a},"2d24":function(t,e,a){},"32f2":function(t,e,a){"use strict";var n=a("6628"),s=a.n(n);s.a},"3e70":function(t,e,a){},"3f8a":function(t,e,a){},"4c09":function(t,e,a){"use strict";var n=a("10ee"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("a026"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],l=(a("5c0b"),a("2877")),o={},r=Object(l["a"])(o,s,i,!1,null,null,null);r.options.__file="App.vue";var c=r.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("topNav"),a("router-view")],1)},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topNav"},[t._m(0),a("div",{staticClass:"sszj"},[a("span",{staticClass:"ssicon iconfont"},[t._v("")]),a("el-input",{staticClass:"sskzd",attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),a("el-dropdown",{staticClass:"user-ci",attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link iconfont"},[t._v("\n\t   \n\t  ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{on:{click:function(e){t.loginout()}}},[t._v("退出")])])],1)],1),a("ul",{staticClass:"navd"},[a("router-link",{attrs:{to:"/index"}},[a("li",[t._v("首页")])]),a("router-link",{attrs:{to:"/xq"}},[a("li",[t._v("管理")])]),a("router-link",{attrs:{to:"/xx"}},[a("li",[t._v("数据")])]),a("router-link",{attrs:{to:"/user/xqlist"}},[a("li",[t._v("个人中心")])]),t._m(1)],1),a("el-menu",{staticClass:"el-menu-demo appTopNav",attrs:{mode:"horizontal"},on:{select:t.handleSelect}},[a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[t._v(t._s(t.topNacd))]),a("el-menu-item",{attrs:{index:"/index"}},[t._v("首页")]),a("el-menu-item",{attrs:{index:"/xq/xqlist"}},[t._v("管理")]),a("el-menu-item",{attrs:{index:"2"}},[t._v("数据")]),a("el-menu-item",{attrs:{index:"/user/xqlist"}},[t._v("个人中心")]),a("el-menu-item",{attrs:{index:"4"},on:{click:t.loginout}},[t._v("退出")])],2)],1)],1)},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log"},[a("img",{attrs:{src:"/img/log.jpg"}}),t._v("\n\t\t掌酷综合平台\n\t")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",[a("li",{staticClass:"iconfont"},[t._v("")])])}],m=(a("7f7f"),{name:"app",data:function(){return{input:"",topNacd:"首页",todata:[{name:"首页",url:1},{name:"管理",url:1},{name:"数据",url:1},{name:"个人中心",url:1}]}},methods:{handleSelect:function(t,e){this.topNacd=this.todata[t].name},loginout:function(){this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/logout"}).then(function(t){0==t.data.code&&(localStorage.setItem("token",""),window.location.href="http://account.zookingsoft.com/login?from=center_local")}).catch(function(t){})}}}),v=m,_=(a("5bab"),Object(l["a"])(v,f,h,!1,null,null,null));_.options.__file="topNav.vue";var b=_.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["leftNavBox",t.apptyped]},[a("div",{staticClass:"navbtn iconfont",on:{click:t.checkNav}},[t._v("")]),a("div",{staticClass:"leftNavBg"}),a("div",{staticClass:"leftNav"},[a("div",{staticClass:"let_title"},[t._v(t._s(t.navData.title))]),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.navData.default,"default-openeds":t.navData.defaultopen,router:!0}},t._l(t.navData.list,function(e,n){return a("el-submenu",{attrs:{index:e.url}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.title))])]),a("el-menu-item-group",t._l(e.list,function(e,n){return a("el-menu-item",{attrs:{index:e.url}},[t._v(t._s(e.title))])}),1)],2)}),1)],1)])},g=[],y={name:"app",props:["navData"],data:function(){return{apptyped:""}},methods:{checkNav:function(t){this.apptyped=""==this.apptyped?"oncheac":""}}},k=y,w=(a("1575"),Object(l["a"])(k,x,g,!1,null,null,null));w.options.__file="leftNav.vue";var C=w.exports,$={name:"app",data:function(){return{}},methods:{},components:{topNav:b,leftNav:C}},z=$,S=(a("d44d"),Object(l["a"])(z,d,p,!1,null,null,null));S.options.__file="index.vue";var T=S.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("leftNav",{attrs:{navData:t.letNav}}),a("router-view")],1)},j=[],q={data:function(){return{letNav:{title:"管理",default:"/xq/xqList",defaultopen:["1"],list:[{title:"需求管理",url:"1",list:[{title:"需求列表",url:"/xq/xqList"}]},{title:"素材管理",url:"2",list:[{title:"素材成品管理",url:"/xq/scList"},{title:"素材中间件管理",url:"2-2"}]},{title:"投放管理",url:"3"},{title:"审核管理",url:"4"},{title:"权限管理",url:"5"}]}}},components:{leftNav:C}},L=q,N=(a("4c09"),Object(l["a"])(L,D,j,!1,null,null,null));N.options.__file="index.vue";var O=N.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"sler"},[t._l(t.zsx,function(e,n){return a("div",[a("span",[t._v(t._s(e.title))]),[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.bind,callback:function(a){t.$set(e,"bind",a)},expression:"el.bind"}},t._l(e.list,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}),1)]],2)}),a("el-button",{staticClass:"sxbtnd",attrs:{round:""},on:{click:function(e){t.selelist()}}},[t._v("筛选")])],2),t._m(0),a("div",{staticClass:"tbale"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"需求ID"}}),a("el-table-column",{attrs:{prop:"extend_type",label:"素材类型",filters:[{text:"静态图片",value:"needs_picture"},{text:"动态图片",value:"needs_script_picture"},{text:"模版",value:"needs_resource"},{text:"H5模版",value:"needs_h5_resource"},{text:"锁屏壁纸",value:"needs_wallpaper"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkNr")(e.row.extend_type))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"extend.description",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"num",sortable:"",label:"当前需求数"}}),a("el-table-column",{attrs:{prop:"total",sortable:"",label:"历史需求数"}}),a("el-table-column",{attrs:{prop:"end_at",sortable:"",label:"截止时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkTime")(e.row.end_at))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkTime")(e.row.created_at))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",filters:[{text:"上线中",value:"2"},{text:"已下线",value:"3"}],"filter-method":t.filterSsta,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"bottom",width:"120"}},[a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.setStatus(e.$index,"2")}}},[t._v("上线")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.setStatus(e.$index,"3")}}},[t._v("下线")])],1),a("el-button",{staticClass:"sxxBten",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t._f("checkStatus")(e.row.status)))])],1)]}}])},[t._v("\n\t\t\t\t>\n\t\t\t  ")]),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"bjysdicon iconfont",attrs:{type:"text"},on:{click:function(a){t.getXqxq(e.row)}}},[t._v("")])]}}])})],1)],a("div",{staticClass:"tableBuee"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.addXq()}}},[t._v("新增需求")]),a("el-button",{staticClass:"pldc",attrs:{round:""}},[t._v("批量导出")])],1),a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","page-count":4,"page-sizes":[10,20,50,100],"page-size":10,layout:"sizes, prev, pager, next",total:t.lundths},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2),a("taglod",{ref:"taglod",attrs:{cslist:t.sxtjList}})],1)])},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"tjboxd"},[a("li",[a("div",[a("div",[t._v("有效需求数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("待收素材数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("审核通过素材数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("审核未通过素材数（个）")])]),a("div",[t._v("38")])])])}],P=(a("b54a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogVisible,expression:"dialogVisible"}],staticClass:"tcBOx"},[a("div",{staticClass:"tcBoxbg",on:{click:function(e){t.clocs()}}}),a("div",{staticClass:"tcboxff"},[a("div",{staticClass:"tcboxff2"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("div",{staticClass:"innerfor"},[a("el-form-item",{attrs:{label:"需求标题"}},[a("el-input",{attrs:{disabled:1==t.clicType},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"素材类型"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择素材类型"},model:{value:t.form.extend_type,callback:function(e){t.$set(t.form,"extend_type",e)},expression:"form.extend_type"}},[a("el-option",{attrs:{label:"静态图片",value:"needs_picture"}}),a("el-option",{attrs:{label:"动态图片",value:"needs_script_picture"}}),a("el-option",{attrs:{label:"模板",value:"needs_resource"}}),a("el-option",{attrs:{label:"H5模板",value:"needs_h5_resource"}}),a("el-option",{attrs:{label:"锁屏壁纸",value:"needs_wallpaper"}})],1)],1),a("el-form-item",{attrs:{label:"投放位置"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}},t._l(t.cslist.platform_position,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.adType,expression:"adType"}],attrs:{label:"投放类型"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.cslist.platform_ad_type,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)],1)],1),a("el-form-item",{staticClass:"sixwz wztopdw",attrs:{label:"投放位置说明"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:1==t.clicType,action:"http://ts-i.idatachain.cn/api/upload/file","show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-error":t.errd}},[t.form.position_desc?a("img",{staticClass:"avatar",attrs:{src:t.form.position_desc}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{staticClass:"sixwz wztopdw",attrs:{label:"投放内容描述"}},[a("el-input",{attrs:{disabled:1==t.clicType,type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("el-form-item",{staticClass:"sixwz",attrs:{label:"投放链接"}},[a("el-input",{attrs:{disabled:1==t.clicType},model:{value:t.form.link,callback:function(e){t.$set(t.form,"link",e)},expression:"form.link"}})],1),a("el-form-item",{staticClass:"sixwz",attrs:{label:"设计要求"}},[a("el-input",{attrs:{disabled:1==t.clicType,type:"textarea"},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1),a("div",{staticClass:"innerfor"},[a("el-form-item",{attrs:{label:"素材尺寸"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择"},model:{value:t.form.size,callback:function(e){t.$set(t.form,"size",e)},expression:"form.size"}},t._l(t.cslist.material_size,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{attrs:{label:"需求数量"}},[a("el-input",{model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1),a("el-form-item",{staticClass:"sixwz2",attrs:{label:"投稿截止时间"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:t.form.end_at,callback:function(e){t.$set(t.form,"end_at",e)},expression:"form.end_at"}})],1)],1),a("el-form-item",{staticClass:"bdbtnd"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.pushData()}}},[t._v("提交")]),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.clocs()}}},[t._v("取消")])],1)],1)],1)])])}),H=[],I={props:["cslist"],data:function(){return{dialogVisible:!1,form:{title:"",extend_type:"",size:"",position:"",position_desc:"",end_at:new Date,num:"",description:"",note:"",link:"",ad_type:""},imageUrl:"",value8:"",value1:"",clicType:0,adType:0}},methods:{setData:function(t){this.form=t,this.clicType=1,this.open()},clocs:function(){this.dialogVisible=!1,this.clicType=0,this.form={title:"",extend_type:"",size:"",position:"",position_desc:"",end_at:new Date,num:"",description:"",note:"",link:"",ad_type:""}},open:function(){this.dialogVisible=!0},pushData:function(){0==this.clicType?this.addData():this.upDate()},addData:function(){var t=this;this.$ajax({method:"post",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/create_need",data:this.form}).then(function(e){t.$message(e.data.message),0==e.data.code&&location.reload()}).catch(function(e){t.$message("服务器故障")})},upDate:function(){var t=this;this.$ajax({method:"post",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/update_need",data:{id:this.form.id,end_at:this.form.end_at,num:+this.form.num}}).then(function(e){t.$message(e.data.message),0==e.data.code&&location.reload()}).catch(function(e){t.$message("服务器故障")})},errd:function(){this.form.position_desc="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"},handleAvatarSuccess:function(t,e){this.form.position_desc=URL.createObjectURL(e.raw),this.form.position_desc=t.data.url},beforeAvatarUpload:function(t){}},watch:{"form.extend_type":function(t,e){"needs_resource"==t||"needs_h5_resource"==t?this.adType=!0:(this.adType=!1,this.form.ad_type="")}}},M=I,X=(a("ad63"),Object(l["a"])(M,P,H,!1,null,null,null));X.options.__file="taglod.vue";var A=X.exports,V={components:{taglod:A},data:function(){return{sxtjList:{},zsx:"",sxtj:{need_type:"",status:"",position:"",size:""},onpage:0,currentPage:10,value8:"",valuex:[],lundths:0,tableData:[],updataType:0,setStatusType:0}},filters:{checkNr:function(t){if(t){var e="";switch(t){case"needs_picture":e="静态图片";break;case"needs_script_picture":e="动态图片";break;case"needs_resource":e="模板";break;case"needs_h5_resource":e="H5模板";break;case"needs_wallpaper":e="锁屏壁纸";break;default:break}return e}},checkTime:function(t){if(t)return t.substring(0,10)},checkStatus:function(t){if(t)return 2==t?"上线中":3==t?"已下线":""}},mounted:function(){this.getSxList(),this.getListData()},methods:{clocs:function(){this.$refs.taglod.clocs()},addXq:function(){this.$refs.taglod.open()},getSxList:function(){var t=this;this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/sysconfig/material"}).then(function(e){t.sxtjList=e.data.data;for(var a=e.data.data.platform_position,n=e.data.data.material_size,s=[],i=0,l=a.length;i<l;i++)s.push({label:a[i],value:a[i]});for(var o=[],r=0,c=n.length;r<c;r++)o.push({label:n[r],value:n[r]});t.zsx=[{title:"素材类型",bind:"",value:"need_type",list:[{label:"静态图片",value:"needs_picture"},{label:"动态图片",value:"needs_script_picture"},{label:"模板",value:"needs_resource"},{label:"H5模板",value:"needs_h5_resource"},{label:"锁屏壁纸",value:"needs_wallpaper"}]},{title:"投放位置",value:"position",bind:"",list:s},{title:"素材尺寸",value:"size",bind:"",list:o},{title:"需求状态",value:"status",bind:"",list:[{label:"上线中",value:"2"},{label:"已下线",value:"1"}]}]}).catch(function(t){})},getListData:function(){for(var t=this,e="http://ts-i.idatachain.cn/api/need/list?p="+this.currentPage+"&page="+this.onpage,a=0,n=this.zsx.length;a<n;a++)this.zsx[a].bind&&(e+="&"+zsx[a].value+"="+this.sxtj[el]);this.$ajax({method:"get",timeout:1e4,url:e}).then(function(e){0==e.data.code?(t.lundths=e.data.data.total,t.tableData=e.data.data.data):t.$message(e.data.message)}).catch(function(e){t.$message("服务器故障")})},selelist:function(){this.getListData()},setStatus:function(t,e){var a=this;1!=this.setStatusType&&(this.setStatusType=1,this.tableData[t].status!=e&&this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/check?id="+this.tableData[t].id+"&base_status="+e}).then(function(n){a.setStatusType=0,0==n.data.code&&(a.tableData[t].status=e),a.$message(n.data.message)}).catch(function(t){a.setStatusType=0,a.$message("服务器故障")}))},getXqxq:function(t){var e=this;1!=this.updataType&&(this.updataType=1,"上线中"!=t.status&&this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/get?id="+t.id}).then(function(t){if(e.updataType=0,0==t.data.code){var a=t.data.data;e.$refs.taglod.setData({title:a.title,extend_type:a.extend_type,size:a.size,position:a.position,position_desc:a.position_desc,end_at:a.end_at,num:a.num,description:a.extend.description,note:a.extend.note,link:a.extend.link,status:a.status,id:a.id})}else e.$message(t.data.message)}).catch(function(t){e.updataType=0,e.$message("服务器故障")}))},filterTag:function(t,e){return e.extend_type===t},filterSsta:function(t,e){return e.status===t},handleSizeChange:function(t){this.currentPage=t,this.getListData()},handleCurrentChange:function(t){this.onpage=t-1,this.getListData()}}},U=V,J=(a("b8e1"),Object(l["a"])(U,B,E,!1,null,null,null));J.options.__file="xqList.vue";var R=J.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"sler"},[t._l(t.zsx,function(e,n){return a("div",[a("span",[t._v(t._s(e.title))]),[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.bind,callback:function(a){t.$set(e,"bind",a)},expression:"el.bind"}},t._l(e.list,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}),1)]],2)}),a("el-button",{staticClass:"sxbtnd",attrs:{round:""},on:{click:function(e){t.selelist()}}},[t._v("筛选")])],2),t._m(0),a("div",{staticClass:"tbale"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"需求ID"}}),a("el-table-column",{attrs:{prop:"extend_type",label:"素材类型",filters:[{text:"静态图片",value:"needs_picture"},{text:"动态图片",value:"needs_script_picture"},{text:"模版",value:"needs_resource"},{text:"H5模版",value:"needs_h5_resource"},{text:"锁屏壁纸",value:"needs_wallpaper"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkNr")(e.row.extend_type))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"extend.description",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"num",sortable:"",label:"当前需求数"}}),a("el-table-column",{attrs:{prop:"total",sortable:"",label:"历史需求数"}}),a("el-table-column",{attrs:{prop:"end_at",sortable:"",label:"截止时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkTime")(e.row.end_at))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\t\t\t\t\n\t\t\t\t\t"+t._s(t._f("checkTime")(e.row.created_at))+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",filters:[{text:"上线中",value:"2"},{text:"已下线",value:"3"}],"filter-method":t.filterSsta,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"bottom",width:"120"}},[a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.setStatus(e.$index,"2")}}},[t._v("上线")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.setStatus(e.$index,"3")}}},[t._v("下线")])],1),a("el-button",{staticClass:"sxxBten",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t._f("checkStatus")(e.row.status)))])],1)]}}])},[t._v("\n\t\t\t\t>\n\t\t\t  ")]),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"bjysdicon iconfont",attrs:{type:"text"},on:{click:function(a){t.getXqxq(e.row)}}},[t._v("")])]}}])})],1)],a("div",{staticClass:"tableBuee"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.addXq()}}},[t._v("新增需求")]),a("el-button",{staticClass:"pldc",attrs:{round:""}},[t._v("批量导出")])],1),a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","page-count":4,"page-sizes":[10,20,50,100],"page-size":10,layout:"sizes, prev, pager, next",total:t.lundths},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2),a("taglod",{ref:"taglod",attrs:{cslist:t.sxtjList}})],1)])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"tjboxd"},[a("li",[a("div",[a("div",[t._v("有效需求数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("待收素材数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("审核通过素材数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("审核未通过素材数（个）")])]),a("div",[t._v("38")])])])}],K={components:{taglod:A},data:function(){return{sxtjList:{},zsx:"",sxtj:{need_type:"",status:"",position:"",size:""},onpage:0,currentPage:10,value8:"",valuex:[],lundths:0,tableData:[],updataType:0,setStatusType:0}},filters:{checkNr:function(t){if(t){var e="";switch(t){case"needs_picture":e="静态图片";break;case"needs_script_picture":e="动态图片";break;case"needs_resource":e="模板";break;case"needs_h5_resource":e="H5模板";break;case"needs_wallpaper":e="锁屏壁纸";break;default:break}return e}},checkTime:function(t){if(t)return t.substring(0,10)},checkStatus:function(t){if(t)return 2==t?"上线中":3==t?"已下线":""}},mounted:function(){this.getSxList(),this.getListData()},methods:{clocs:function(){this.$refs.taglod.clocs()},addXq:function(){this.$refs.taglod.open()},getSxList:function(){var t=this;this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/sysconfig/material"}).then(function(e){t.sxtjList=e.data.data;for(var a=e.data.data.platform_position,n=e.data.data.material_size,s=[],i=0,l=a.length;i<l;i++)s.push({label:a[i],value:a[i]});for(var o=[],r=0,c=n.length;r<c;r++)o.push({label:n[r],value:n[r]});t.zsx=[{title:"素材类型",bind:"",value:"need_type",list:[{label:"静态图片",value:"needs_picture"},{label:"动态图片",value:"needs_script_picture"},{label:"模板",value:"needs_resource"},{label:"H5模板",value:"needs_h5_resource"},{label:"锁屏壁纸",value:"needs_wallpaper"}]},{title:"投放位置",value:"position",bind:"",list:s},{title:"素材尺寸",value:"size",bind:"",list:o},{title:"需求状态",value:"status",bind:"",list:[{label:"上线中",value:"2"},{label:"已下线",value:"1"}]}]}).catch(function(t){})},getListData:function(){for(var t=this,e="http://ts-i.idatachain.cn/api/need/list?p="+this.currentPage+"&page="+this.onpage,a=0,n=this.zsx.length;a<n;a++)this.zsx[a].bind&&(e+="&"+zsx[a].value+"="+this.sxtj[el]);this.$ajax({method:"get",timeout:1e4,url:e}).then(function(e){0==e.data.code?(t.lundths=e.data.data.total,t.tableData=e.data.data.data):t.$message(e.data.message)}).catch(function(e){t.$message("服务器故障")})},selelist:function(){this.getListData()},setStatus:function(t,e){var a=this;1!=this.setStatusType&&(this.setStatusType=1,this.tableData[t].status!=e&&this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/check?id="+this.tableData[t].id+"&base_status="+e}).then(function(n){a.setStatusType=0,0==n.data.code&&(a.tableData[t].status=e),a.$message(n.data.message)}).catch(function(t){a.setStatusType=0,a.$message("服务器故障")}))},getXqxq:function(t){var e=this;1!=this.updataType&&(this.updataType=1,"上线中"!=t.status&&this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/get?id="+t.id}).then(function(t){if(e.updataType=0,0==t.data.code){var a=t.data.data;e.$refs.taglod.setData({title:a.title,extend_type:a.extend_type,size:a.size,position:a.position,position_desc:a.position_desc,end_at:a.end_at,num:a.num,description:a.extend.description,note:a.extend.note,link:a.extend.link,status:a.status,id:a.id})}else e.$message(t.data.message)}).catch(function(t){e.updataType=0,e.$message("服务器故障")}))},filterTag:function(t,e){return e.extend_type===t},filterSsta:function(t,e){return e.status===t},handleSizeChange:function(t){this.currentPage=t,this.getListData()},handleCurrentChange:function(t){this.onpage=t-1,this.getListData()}}},Q=K,W=(a("32f2"),Object(l["a"])(Q,F,G,!1,null,null,null));W.options.__file="scList.vue";var Y=W.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("leftNav",{attrs:{navData:t.letNav}}),a("router-view")],1)},tt=[],et={data:function(){return{letNav:{title:"个人中心",default:"/user/xqList",defaultopen:["1"],list:[{title:"待审核",url:"1",list:[{title:"需求待审核",url:"/user/xqList"},{title:"广告图待审核",url:"/"}]},{title:"素材管理",url:"2"},{title:"投放管理",url:"3"},{title:"审核管理",url:"4"},{title:"权限管理",url:"5"}]}}},components:{leftNav:C}},at=et,nt=(a("cec7"),Object(l["a"])(at,Z,tt,!1,null,null,null));nt.options.__file="index.vue";var st=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"tbale"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"需求ID"}}),a("el-table-column",{attrs:{prop:"extend_type",label:"素材类型",filters:[{text:"H5模版",value:"H5模版"},{text:"静态图片",value:"静态图片"},{text:"动态图片",value:"动态图片"},{text:"模版",value:"模版"},{text:"锁屏壁纸",value:"锁屏壁纸"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t"+t._s(e.row.extend_type)+"\n\t\t\t\t ")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"extend.description",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"num",sortable:"",label:"当前需求数"}}),a("el-table-column",{attrs:{prop:"total",sortable:"",label:"历史需求数"}}),a("el-table-column",{attrs:{prop:"end_at",sortable:"",label:"截止时间"}}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.status)+"\t\n\t\t\t\t\t")]}}])},[t._v("\n\t\t\t\t>\n\t\t\t\t")]),a("el-table-column",{attrs:{"min-width":"160px",label:"审核"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"xqshticon",attrs:{type:"primary",size:"mini",round:""},on:{click:function(a){t.opentip(e.$index,2)}}},[t._v("通过")]),a("el-button",{staticClass:"xqshjicon",attrs:{type:"primary",size:"mini",round:""},on:{click:function(a){t.open3(e.$index,1)}}},[t._v("拒绝")]),a("el-button",{attrs:{type:"primary",size:"mini",round:""}},[t._v("转审")])]}}])})],1)],a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","page-count":4,"page-sizes":[10,20,50,100],"page-size":10,layout:"sizes, prev, pager, next",total:t.lundths},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2)])])},lt=[],ot={data:function(){return{statusType:0,sx_need_type:[{label:"静态图片",value:"needs_picture"},{label:"动态图片",value:"needs_script_picture"},{label:"模板",value:"needs_resource"},{label:"H5模板",value:"needs_h5_resource"},{label:"锁屏壁纸",value:"needs_wallpaper"}],sx_status:[{label:"上线中",value:"2"},{label:"已下线",value:"1"}],onpage:0,currentPage:10,lundths:0,tableData:[]}},mounted:function(){this.getListData()},methods:{opentip:function(t,e){var a=this;1!=this.statusType&&this.$confirm("是否确认通过","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.setStatus(t,e)}).catch(function(){})},getListData:function(){var t=this,e="http://ts-i.idatachain.cn/api/need/list_check?p="+this.currentPage+"&page="+this.onpage;this.$ajax({method:"get",timeout:1e4,url:e}).then(function(e){if(0==e.data.code){var a=e.data.data.data;t.lundths=e.data.data.total;for(var n=0,s=a.length;n<s;n++)a[n].created_at=a[n].created_at.substring(0,10),a[n].end_at=a[n].end_at.substring(0,10),a[n].extend_type="needs_h5_resource"==a[n].extend_type?"H5模版":"needs_picture"==a[n].extend_type?"静态图片":"needs_script_picture"==a[n].extend_type?"动态图片":"needs_resource"==a[n].extend_type?"模版":"needs_wallpaper"==a[n].extend_type?"锁屏壁纸":"",a[n].status=0==a[n].status?"待审核":1==a[n].status?"不通过":"";t.tableData=a}else t.$message(e.data.message)}).catch(function(t){})},open3:function(t,e){var a=this;"不通过"!=this.tableData[t].status&&1!=this.statusType&&this.$prompt("请输入拒绝理由","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(n){n.value;a.setStatus(t,e)}).catch(function(){})},setStatus:function(t,e){var a=this;this.statusType=1,this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/check?id="+this.tableData[t].id+"&base_status="+e}).then(function(t){a.statusType=0,0==t.data.code&&location.reload(),a.$message(t.data.message)}).catch(function(t){a.statusType=0,a.$message("服务器故障")})},filterTag:function(t,e){return e.extend_type===t},handleSizeChange:function(t){this.currentPage=t,this.getListData()},handleCurrentChange:function(t){this.onpage=t-1,this.getListData()}}},rt=ot,ct=(a("26a8"),Object(l["a"])(rt,it,lt,!1,null,null,null));ct.options.__file="xqList.vue";var ut=ct.exports,dt=a("bc3a"),pt=a.n(dt);n["default"].use(u["a"]);var ft=new u["a"]({routes:[{path:"/index",name:"Index",component:T,children:[{path:"/index",component:T},{path:"/xq",component:O,children:[{path:"/xq/xqlist",component:R},{path:"/xq/scList",component:Y}]},{path:"/user",component:st,children:[{path:"/user/xqlist",component:ut}]}]}]});ft.beforeEach(function(t,e,a){localStorage.getItem("token")?a():t.query.ticket?pt()({method:"post",timeout:1e4,url:"http://ts-i.idatachain.cn/api/login",data:{ticket:t.query.ticket}}).then(function(t){localStorage.setItem("token",t.data.data.token),pt.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("token"),a()}).catch(function(t){}):window.location.href="http://account.zookingsoft.com/login?from=center_local"});var ht=ft,mt=a("5c96"),vt=a.n(mt);a("0fae");n["default"].prototype.$ajax=pt.a,n["default"].use(vt.a),n["default"].config.productionTip=!1,pt.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("token"),new n["default"]({router:ht,render:function(t){return t(c)}}).$mount("#app")},"5bab":function(t,e,a){"use strict";var n=a("3f8a"),s=a.n(n);s.a},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),s=a.n(n);s.a},"5e27":function(t,e,a){},6628:function(t,e,a){},ad63:function(t,e,a){"use strict";var n=a("bad2"),s=a.n(n);s.a},b8e1:function(t,e,a){"use strict";var n=a("3e70"),s=a.n(n);s.a},bad2:function(t,e,a){},beda:function(t,e,a){},c5d4:function(t,e,a){},cec7:function(t,e,a){"use strict";var n=a("c5d4"),s=a.n(n);s.a},d44d:function(t,e,a){"use strict";var n=a("beda"),s=a.n(n);s.a},e68b:function(t,e,a){}});