(function(t){function e(e){for(var n,i,o=e[0],r=e[1],c=e[2],d=0,p=[];d<o.length;d++)i=o[d],l[i]&&p.push(l[i][0]),l[i]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var r=a[o];0!==l[r]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},l={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"10ee":function(t,e,a){},1575:function(t,e,a){"use strict";var n=a("2d24"),l=a.n(n);l.a},"26a8":function(t,e,a){"use strict";var n=a("e68b"),l=a.n(n);l.a},"2d24":function(t,e,a){},"3e70":function(t,e,a){},"3f8a":function(t,e,a){},"4c09":function(t,e,a){"use strict";var n=a("10ee"),l=a.n(n);l.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("a026"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i=(a("5c0b"),a("2877")),o={},r=Object(i["a"])(o,l,s,!1,null,null,null);r.options.__file="App.vue";var c=r.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("topNav"),a("router-view")],1)},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topNav"},[t._m(0),a("div",{staticClass:"sszj"},[a("span",{staticClass:"ssicon iconfont"},[t._v("")]),a("el-input",{staticClass:"sskzd",attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),a("el-dropdown",{staticClass:"user-ci",attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link iconfont"},[t._v("\n\t   \n\t  ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{on:{click:function(e){t.loginout()}}},[t._v("退出")])])],1)],1),a("ul",{staticClass:"navd"},[a("router-link",{attrs:{to:"/index"}},[a("li",[t._v("首页")])]),a("router-link",{attrs:{to:"/xq/list"}},[a("li",[t._v("管理")])]),a("router-link",{attrs:{to:"/xx"}},[a("li",[t._v("数据")])]),a("router-link",{attrs:{to:"/user/xqlist"}},[a("li",[t._v("个人中心")])]),t._m(1)],1),a("el-menu",{staticClass:"el-menu-demo appTopNav",attrs:{mode:"horizontal"},on:{select:t.handleSelect}},[a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[t._v(t._s(t.topNacd))]),a("el-menu-item",{attrs:{index:"0"}},[t._v("首页")]),a("el-menu-item",{attrs:{index:"1"}},[t._v("管理")]),a("el-menu-item",{attrs:{index:"2"}},[t._v("数据")]),a("el-menu-item",{attrs:{index:"3"}},[t._v("个人中心")]),a("el-menu-item",{attrs:{index:"4"}},[t._v("退出")])],2)],1)],1)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log"},[a("img",{attrs:{src:"/img/log.jpg"}}),t._v("\n\t\t掌酷综合平台\n\t")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",[a("li",{staticClass:"iconfont"},[t._v("")])])}],v=(a("7f7f"),{name:"app",data:function(){return{input:"",topNacd:"首页",todata:[{name:"首页",url:1},{name:"管理",url:1},{name:"数据",url:1},{name:"个人中心",url:1}]}},methods:{handleSelect:function(t,e){this.topNacd=this.todata[t].name},loginout:function(){this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/logout"}).then(function(t){0==t.data.code&&(localStorage.setItem("token",""),window.location.href="http://account.zookingsoft.com/login?from=center")}).catch(function(t){})}}}),h=v,_=(a("5bab"),Object(i["a"])(h,f,m,!1,null,null,null));_.options.__file="topNav.vue";var b=_.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["leftNavBox",t.apptyped]},[a("div",{staticClass:"navbtn iconfont",on:{click:t.checkNav}},[t._v("")]),a("div",{staticClass:"leftNavBg"}),a("div",{staticClass:"leftNav"},[a("div",{staticClass:"let_title"},[t._v(t._s(t.navData.title))]),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.navData.default,"default-openeds":t.navData.defaultopen,router:!0}},t._l(t.navData.list,function(e,n){return a("el-submenu",{attrs:{index:e.url}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.title))])]),a("el-menu-item-group",t._l(e.list,function(e,n){return a("el-menu-item",{attrs:{index:e.url}},[t._v(t._s(e.title))])}),1)],2)}),1)],1)])},g=[],y={name:"app",props:["navData"],data:function(){return{apptyped:""}},methods:{checkNav:function(t){this.apptyped=""==this.apptyped?"oncheac":""}}},k=y,$=(a("1575"),Object(i["a"])(k,x,g,!1,null,null,null));$.options.__file="leftNav.vue";var w=$.exports,C={name:"app",data:function(){return{}},methods:{},components:{topNav:b,leftNav:w}},j=C,z=(a("d44d"),Object(i["a"])(j,d,p,!1,null,null,null));z.options.__file="index.vue";var D=z.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("leftNav",{attrs:{navData:t.letNav}}),a("router-view")],1)},L=[],q={data:function(){return{letNav:{title:"管理",default:"/xq/xqList",defaultopen:["1"],list:[{title:"需求管理",url:"1",list:[{title:"需求列表",url:"/xq/xqList"}]},{title:"素材管理",url:"2"},{title:"投放管理",url:"3"},{title:"审核管理",url:"4"},{title:"权限管理",url:"5"}]}}},components:{leftNav:w}},N=q,T=(a("4c09"),Object(i["a"])(N,S,L,!1,null,null,null));T.options.__file="index.vue";var O=T.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"sler"},[a("div",[a("span",[t._v("素材类型")]),[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.sxtj.need_type,callback:function(e){t.$set(t.sxtj,"need_type",e)},expression:"sxtj.need_type"}},t._l(t.sx_need_type,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]],2),a("div",[a("span",[t._v("投放位置")]),[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.sxtj.position,callback:function(e){t.$set(t.sxtj,"position",e)},expression:"sxtj.position"}},t._l(t.sxtjList.platform_position,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)]],2),a("div",[a("span",[t._v("素材尺寸")]),[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.sxtj.size,callback:function(e){t.$set(t.sxtj,"size",e)},expression:"sxtj.size"}},t._l(t.sxtjList.material_size,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)]],2),a("div",[a("span",[t._v("需求状态")]),[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.sxtj.status,callback:function(e){t.$set(t.sxtj,"status",e)},expression:"sxtj.status"}},t._l(t.sx_status,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]],2),a("el-button",{staticClass:"sxbtnd",attrs:{round:""},on:{click:function(e){t.selelist()}}},[t._v("筛选")])],1),t._m(0),a("div",{staticClass:"tbale"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"需求ID"}}),a("el-table-column",{attrs:{prop:"extend_type",label:"素材类型",filters:[{text:"H5模版",value:"H5模版"},{text:"静态图片",value:"静态图片"},{text:"动态图片",value:"动态图片"},{text:"模版",value:"模版"},{text:"锁屏壁纸",value:"锁屏壁纸"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t"+t._s(e.row.extend_type)+"\n\t\t\t\t ")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"extend.description",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"num",sortable:"",label:"当前需求数"}}),a("el-table-column",{attrs:{prop:"total",sortable:"",label:"历史需求数"}}),a("el-table-column",{attrs:{prop:"end_at",sortable:"",label:"截止时间"}}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",filters:[{text:"上线中",value:"上线中"},{text:"已下线",value:"已下线"}],"filter-method":t.filterSsta,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"bottom",width:"120"}},[a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.setStatus(e.$index,"上线中")}}},[t._v("上线")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.setStatus(e.$index,"已下线")}}},[t._v("下线")])],1),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.status))])],1)]}}])},[t._v("\n\t\t\t\t>\n\t\t\t  ")]),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"bjysdicon iconfont",attrs:{type:"text"},on:{click:function(a){t.getXqxq(e.row)}}},[t._v("")])]}}])})],1)],a("div",{staticClass:"tableBuee"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.addXq()}}},[t._v("新增需求")]),a("el-button",{staticClass:"pldc",attrs:{round:""}},[t._v("批量导出")])],1),a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","page-count":4,"page-sizes":[10,20,50,100],"page-size":10,layout:"sizes, prev, pager, next",total:t.lundths},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2),a("taglod",{ref:"taglod",attrs:{cslist:t.sxtjList}})],1)])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"tjboxd"},[a("li",[a("div",[a("div",[t._v("有效需求数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("待收素材数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("审核通过素材数（个）")])]),a("div",[t._v("38")])]),a("li",[a("div",[a("div",[t._v("审核未通过素材数（个）")])]),a("div",[t._v("38")])])])}],P=(a("b54a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogVisible,expression:"dialogVisible"}],staticClass:"tcBOx"},[a("div",{staticClass:"tcBoxbg",on:{click:function(e){t.clocs()}}}),a("div",{staticClass:"tcboxff"},[a("div",{staticClass:"tcboxff2"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("div",{staticClass:"innerfor"},[a("el-form-item",{attrs:{label:"需求标题"}},[a("el-input",{attrs:{disabled:1==t.clicType},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"素材类型"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择素材类型"},model:{value:t.form.extend_type,callback:function(e){t.$set(t.form,"extend_type",e)},expression:"form.extend_type"}},[a("el-option",{attrs:{label:"静态图片",value:"needs_picture"}}),a("el-option",{attrs:{label:"动态图片",value:"needs_script_picture"}}),a("el-option",{attrs:{label:"模板",value:"needs_resource"}}),a("el-option",{attrs:{label:"H5模板",value:"needs_h5_resource"}}),a("el-option",{attrs:{label:"锁屏壁纸",value:"needs_wallpaper"}})],1)],1),a("el-form-item",{attrs:{label:"投放位置"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}},t._l(t.cslist.platform_position,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)],1)],1),a("el-form-item",{staticClass:"sixwz wztopdw",attrs:{label:"投放位置说明"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:1==t.clicType,action:"http://ts-i.idatachain.cn/api/upload/file","show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-error":t.errd}},[t.form.position_desc?a("img",{staticClass:"avatar",attrs:{src:t.form.position_desc}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{staticClass:"sixwz wztopdw",attrs:{label:"投放内容描述"}},[a("el-input",{attrs:{disabled:1==t.clicType,type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("el-form-item",{staticClass:"sixwz",attrs:{label:"投放链接"}},[a("el-input",{attrs:{disabled:1==t.clicType},model:{value:t.form.link,callback:function(e){t.$set(t.form,"link",e)},expression:"form.link"}})],1),a("el-form-item",{staticClass:"sixwz",attrs:{label:"设计要求"}},[a("el-input",{attrs:{disabled:1==t.clicType,type:"textarea"},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1),a("div",{staticClass:"innerfor"},[a("el-form-item",{attrs:{label:"素材尺寸"}},[a("el-select",{attrs:{disabled:1==t.clicType,placeholder:"请选择"},model:{value:t.form.size,callback:function(e){t.$set(t.form,"size",e)},expression:"form.size"}},t._l(t.cslist.material_size,function(t){return a("el-option",{attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{attrs:{label:"需求数量"}},[a("el-input",{model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1),a("el-form-item",{staticClass:"sixwz2",attrs:{label:"投稿截止时间"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:t.form.end_at,callback:function(e){t.$set(t.form,"end_at",e)},expression:"form.end_at"}})],1)],1),a("el-form-item",{staticClass:"bdbtnd"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.pushData()}}},[t._v("提交")]),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.clocs()}}},[t._v("取消")])],1)],1)],1)])])}),B=[],M={props:["cslist"],data:function(){return{dialogVisible:!1,form:{title:"",extend_type:"",size:"",position:"",position_desc:"",end_at:new Date,num:"",description:"",note:"",link:""},imageUrl:"",value8:"",value1:"",clicType:0}},methods:{setData:function(t){this.form=t,this.clicType=1,this.open()},clocs:function(){this.dialogVisible=!1,this.clicType=0,this.form={title:"",extend_type:"",size:"",position:"",position_desc:"",end_at:new Date,num:"",description:"",note:"",link:""}},open:function(){this.dialogVisible=!0},pushData:function(){0==this.clicType?this.addData():this.upDate()},addData:function(){var t=this;this.$ajax({method:"post",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/create_need",data:this.form}).then(function(e){t.$message(e.data.message),0==e.data.code&&(t.dialogVisible=!1)}).catch(function(e){t.$message("服务器故障")})},upDate:function(){var t=this;this.$ajax({method:"post",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/update_need",data:{id:this.form.id,end_at:this.form.end_at,num:+this.form.num}}).then(function(e){t.$message(e.data.message),0==e.data.code&&location.reload()}).catch(function(e){t.$message("服务器故障")})},errd:function(){this.form.position_desc="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"},handleAvatarSuccess:function(t,e){this.form.position_desc=URL.createObjectURL(e.raw),this.form.position_desc=t.data.url},beforeAvatarUpload:function(t){}}},I=M,V=(a("ad63"),Object(i["a"])(I,P,B,!1,null,null,null));V.options.__file="taglod.vue";var A=V.exports,F={components:{taglod:A},data:function(){return{sxtjList:{},sx_need_type:[{label:"静态图片",value:"needs_picture"},{label:"动态图片",value:"needs_script_picture"},{label:"模板",value:"needs_resource"},{label:"H5模板",value:"needs_h5_resource"},{label:"锁屏壁纸",value:"needs_wallpaper"}],sx_status:[{label:"上线中",value:"2"},{label:"已下线",value:"1"}],sxtj:{need_type:"",status:"",position:"",size:""},onpage:0,currentPage:10,value8:"",valuex:[],lundths:0,tableData:[]}},mounted:function(){this.getSxList(),this.getListData()},methods:{clocs:function(){this.$refs.taglod.clocs()},addXq:function(){this.$refs.taglod.open()},getSxList:function(){var t=this;this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/sysconfig/material"}).then(function(e){t.sxtjList=e.data.data}).catch(function(t){})},getListData:function(){var t=this,e="http://ts-i.idatachain.cn/api/need/list?p="+this.currentPage+"&page="+this.onpage;for(var a in this.sxtj)this.sxtj[a]&&(e+="&"+a+"="+this.sxtj[a]);this.$ajax({method:"get",timeout:1e4,url:e}).then(function(e){if(0==e.data.code){var a=e.data.data.data;t.lundths=e.data.data.total;for(var n=0,l=a.length;n<l;n++)a[n].created_at=a[n].created_at.substring(0,10),a[n].end_at=a[n].end_at.substring(0,10),a[n].extend_type="needs_h5_resource"==a[n].extend_type?"H5模版":"needs_picture"==a[n].extend_type?"静态图片":"needs_script_picture"==a[n].extend_type?"动态图片":"needs_resource"==a[n].extend_type?"模版":"needs_wallpaper"==a[n].extend_type?"锁屏壁纸":"",a[n].status=2==a[n].status?"上线中":"已下线",a[n].isshd=2==a[n].status;t.tableData=a}else t.$message(e.data.message)}).catch(function(e){t.$message("服务器故障")})},selelist:function(){this.getListData()},setStatus:function(t,e){var a=this;this.tableData[t].status!=e&&(e="上线中"==e?2:3,this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/check?id="+this.tableData[t].id+"&base_status="+e}).then(function(n){console.log(n),0==n.data.code&&(a.tableData[t].status=3==e?"已下线":"上线中"),a.$message(n.data.message)}).catch(function(t){a.$message("服务器故障")}))},getXqxq:function(t){var e=this;"上线中"!=t.status&&this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/get?id="+t.id}).then(function(t){if(0==t.data.code){var a=t.data.data;e.$refs.taglod.setData({title:a.title,extend_type:a.extend_type,size:a.size,position:a.position,position_desc:a.position_desc,end_at:a.end_at,num:a.num,description:a.extend.description,note:a.extend.note,link:a.extend.link,status:a.status,id:a.id})}else e.$message(t.data.message)}).catch(function(t){e.$message("服务器故障")})},resetDateFilter:function(){this.$refs.filterTable.clearFilter("date")},clearFilter:function(){this.$refs.filterTable.clearFilter()},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.extend_type===t},filterSsta:function(t,e){return e.status===t},filterHandler:function(t,e,a){var n=a["property"];return e[n]===t},handleSizeChange:function(t){this.currentPage=t,this.getListData()},handleCurrentChange:function(t){this.onpage=t-1,this.getListData()}}},U=F,X=(a("b8e1"),Object(i["a"])(U,E,H,!1,null,null,null));X.options.__file="xqList.vue";var J=X.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("leftNav",{attrs:{navData:t.letNav}}),a("router-view")],1)},G=[],K={data:function(){return{letNav:{title:"个人中心",default:"/user/xqList",defaultopen:["1"],list:[{title:"待审核",url:"1",list:[{title:"需求待审核",url:"/user/xqList"},{title:"广告图待审核",url:"/"}]},{title:"素材管理",url:"2"},{title:"投放管理",url:"3"},{title:"审核管理",url:"4"},{title:"权限管理",url:"5"}]}}},components:{leftNav:w}},Q=K,W=(a("cec7"),Object(i["a"])(Q,R,G,!1,null,null,null));W.options.__file="index.vue";var Y=W.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xqList"},[a("div",{staticClass:"xqListbox"},[a("div",{staticClass:"tbale"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"需求ID"}}),a("el-table-column",{attrs:{prop:"extend_type",label:"素材类型",filters:[{text:"H5模版",value:"H5模版"},{text:"静态图片",value:"静态图片"},{text:"动态图片",value:"动态图片"},{text:"模版",value:"模版"},{text:"锁屏壁纸",value:"锁屏壁纸"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t"+t._s(e.row.extend_type)+"\n\t\t\t\t ")]}}])}),a("el-table-column",{attrs:{prop:"position",label:"投放位置"}}),a("el-table-column",{attrs:{prop:"extend.description",label:"投放内容描述"}}),a("el-table-column",{attrs:{prop:"size",label:"素材尺寸"}}),a("el-table-column",{attrs:{prop:"num",sortable:"",label:"当前需求数"}}),a("el-table-column",{attrs:{prop:"total",sortable:"",label:"历史需求数"}}),a("el-table-column",{attrs:{prop:"end_at",sortable:"",label:"截止时间"}}),a("el-table-column",{attrs:{prop:"created_at",sortable:"",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.status)+"\t\n\t\t\t\t\t")]}}])},[t._v("\n\t\t\t\t>\n\t\t\t\t")]),a("el-table-column",{attrs:{"min-width":"160px",label:"审核"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",round:""}},[t._v("通过")]),a("el-button",{attrs:{type:"primary",size:"mini",round:""}},[t._v("拒绝")]),a("el-button",{attrs:{type:"primary",size:"mini",round:""}},[t._v("转审")])]}}])})],1)],a("div",{staticClass:"tableBuee2"},[a("el-pagination",{attrs:{background:"","page-count":4,"page-sizes":[10,20,50,100],"page-size":10,layout:"sizes, prev, pager, next",total:t.lundths},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2)])])},tt=[],et={data:function(){return{sx_need_type:[{label:"静态图片",value:"needs_picture"},{label:"动态图片",value:"needs_script_picture"},{label:"模板",value:"needs_resource"},{label:"H5模板",value:"needs_h5_resource"},{label:"锁屏壁纸",value:"needs_wallpaper"}],sx_status:[{label:"上线中",value:"2"},{label:"已下线",value:"1"}],onpage:0,currentPage:10,lundths:0,tableData:[]}},mounted:function(){this.getListData()},methods:{getListData:function(){var t=this,e="http://ts-i.idatachain.cn/api/need/list_check?p="+this.currentPage+"&page="+this.onpage;this.$ajax({method:"get",timeout:1e4,url:e}).then(function(e){if(0==e.data.code){var a=e.data.data.data;t.lundths=e.data.data.total;for(var n=0,l=a.length;n<l;n++)a[n].created_at=a[n].created_at.substring(0,10),a[n].end_at=a[n].end_at.substring(0,10),a[n].extend_type="needs_h5_resource"==a[n].extend_type?"H5模版":"needs_picture"==a[n].extend_type?"静态图片":"needs_script_picture"==a[n].extend_type?"动态图片":"needs_resource"==a[n].extend_type?"模版":"needs_wallpaper"==a[n].extend_type?"锁屏壁纸":"",a[n].status=0==a[n].status?"待审核":1==a[n].status?"不通过":"";t.tableData=a}else t.$message(e.data.message)}).catch(function(e){t.$message("服务器故障")})},setStatus:function(t,e){var a=this;this.tableData[t].status!=e&&(e="上线中"==e?2:3,this.$ajax({method:"get",timeout:1e4,url:"http://ts-i.idatachain.cn/api/need/check?id="+this.tableData[t].id+"&base_status="+e}).then(function(n){console.log(n),0==n.data.code&&(a.tableData[t].status=3==e?"已下线":"上线中"),a.$message(n.data.message)}).catch(function(t){a.$message("服务器故障")}))},filterTag:function(t,e){return e.extend_type===t},handleSizeChange:function(t){this.currentPage=t,this.getListData()},handleCurrentChange:function(t){this.onpage=t-1,this.getListData()}}},at=et,nt=(a("26a8"),Object(i["a"])(at,Z,tt,!1,null,null,null));nt.options.__file="xqList.vue";var lt=nt.exports,st=a("bc3a"),it=a.n(st);n["default"].use(u["a"]);var ot=new u["a"]({routes:[{path:"/",name:"Index",component:D,children:[{path:"/index",component:D},{path:"/xq",component:O,children:[{path:"/xq/list",component:J}]},{path:"/user",component:Y,children:[{path:"/user/xqlist",component:lt}]}]}]});ot.beforeEach(function(t,e,a){localStorage.getItem("token")?a():t.query.ticket?it()({method:"post",timeout:1e4,url:"http://ts-i.idatachain.cn/api/login",data:{ticket:t.query.ticket}}).then(function(t){localStorage.setItem("token",t.data.data.token),a()}).catch(function(t){}):window.location.href="http://account.zookingsoft.com/login?from=center"});var rt=ot,ct=a("5c96"),ut=a.n(ct);a("0fae");n["default"].prototype.$ajax=it.a,n["default"].use(ut.a),n["default"].config.productionTip=!1,it.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("token"),new n["default"]({router:rt,render:function(t){return t(c)}}).$mount("#app")},"5bab":function(t,e,a){"use strict";var n=a("3f8a"),l=a.n(n);l.a},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),l=a.n(n);l.a},"5e27":function(t,e,a){},ad63:function(t,e,a){"use strict";var n=a("bad2"),l=a.n(n);l.a},b8e1:function(t,e,a){"use strict";var n=a("3e70"),l=a.n(n);l.a},bad2:function(t,e,a){},beda:function(t,e,a){},c5d4:function(t,e,a){},cec7:function(t,e,a){"use strict";var n=a("c5d4"),l=a.n(n);l.a},d44d:function(t,e,a){"use strict";var n=a("beda"),l=a.n(n);l.a},e68b:function(t,e,a){}});